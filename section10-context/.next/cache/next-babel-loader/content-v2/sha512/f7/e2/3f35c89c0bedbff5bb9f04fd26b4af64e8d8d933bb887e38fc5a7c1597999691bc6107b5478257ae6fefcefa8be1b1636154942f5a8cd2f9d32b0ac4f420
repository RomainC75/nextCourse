{"ast":null,"code":"import { getCommentsOnEvent, saveComment } from \"../../../dummy-data\";\n\nfunction handler(req, res) {\n  const {\n    eventId\n  } = req.query;\n  console.log('==> eventId : ', eventId, req.url, req.body);\n\n  if (req.method === \"POST\") {\n    const comment = saveComment(req.body, eventId);\n    return res.status(201).json({\n      message: \"comment saved\",\n      comment\n    });\n  }\n\n  const foundComments = getCommentsOnEvent(eventId);\n  res.status(200).json(foundComments);\n}\n\nexport default handler;","map":{"version":3,"sources":["/home/rom/Documents/dev/nextjs/tuto/section9-apiRoutes/pages/api/comment/[eventId].js"],"names":["getCommentsOnEvent","saveComment","handler","req","res","eventId","query","console","log","url","body","method","comment","status","json","message","foundComments"],"mappings":"AAAA,SAASA,kBAAT,EAA6BC,WAA7B,QAAgD,qBAAhD;;AAGA,SAASC,OAAT,CAAkBC,GAAlB,EAAsBC,GAAtB,EAA0B;AACtB,QAAM;AAACC,IAAAA;AAAD,MAAYF,GAAG,CAACG,KAAtB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BH,OAA9B,EAAuCF,GAAG,CAACM,GAA3C,EAAgDN,GAAG,CAACO,IAApD;;AAEA,MAAGP,GAAG,CAACQ,MAAJ,KAAa,MAAhB,EAAuB;AACnB,UAAMC,OAAO,GAAGX,WAAW,CAACE,GAAG,CAACO,IAAL,EAAUL,OAAV,CAA3B;AACA,WAAOD,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBC,MAAAA,OAAO,EAAE,eADe;AAExBH,MAAAA;AAFwB,KAArB,CAAP;AAIH;;AAED,QAAMI,aAAa,GAAGhB,kBAAkB,CAACK,OAAD,CAAxC;AACAD,EAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBE,aAArB;AACH;;AAED,eAAed,OAAf","sourcesContent":["import { getCommentsOnEvent, saveComment } from \"../../../dummy-data\"\n\n\nfunction handler (req,res){\n    const {eventId} = req.query\n    console.log('==> eventId : ', eventId, req.url, req.body)\n    \n    if(req.method===\"POST\"){\n        const comment = saveComment(req.body,eventId)\n        return res.status(201).json({\n            message: \"comment saved\",\n            comment\n        })    \n    }\n    \n    const foundComments = getCommentsOnEvent(eventId)\n    res.status(200).json(foundComments)\n}\n\nexport default handler"]},"metadata":{},"sourceType":"module"}