{"ast":null,"code":"import { MongoClient } from \"mongodb\";\n\nconst mongoSender = async data => {\n  const {\n    MongoClient\n  } = require(\"mongodb\");\n\n  const url = \"mongodb+srv://mongoAUser:i6m3jV7kqz8XP2S@cluster0.cl4dl.mongodb.net/nextjs\"; // \"mongodb+srv://<username>:<password>@cluster0.cl4dl.mongodb.net/?retryWrites=true&w=majority\"\n\n  const client = new MongoClient(url);\n\n  async function main() {\n    await client.connect();\n    console.log(\"Connected successfully to server\");\n    const db = client.db();\n    return db.collection(\"registration\").insertOne({\n      email: data.email\n    });\n  }\n\n  main().then(console.log).catch(console.error).finally(() => client.close());\n};\n\nexport default mongoSender;","map":{"version":3,"sources":["/home/rom/Documents/dev/nextjs/tuto/section9-apiRoutes/helpers/mongodb.js"],"names":["MongoClient","mongoSender","data","require","url","client","main","connect","console","log","db","collection","insertOne","email","then","catch","error","finally","close"],"mappings":"AAAA,SAASA,WAAT,QAA4B,SAA5B;;AAEA,MAAMC,WAAW,GAAG,MAAOC,IAAP,IAAgB;AAElC,QAAM;AAAEF,IAAAA;AAAF,MAAkBG,OAAO,CAAC,SAAD,CAA/B;;AACA,QAAMC,GAAG,GACP,4EADF,CAHkC,CAKlC;;AACA,QAAMC,MAAM,GAAG,IAAIL,WAAJ,CAAgBI,GAAhB,CAAf;;AAEA,iBAAeE,IAAf,GAAsB;AACpB,UAAMD,MAAM,CAACE,OAAP,EAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACA,UAAMC,EAAE,GAAGL,MAAM,CAACK,EAAP,EAAX;AACA,WAAQA,EAAE,CAACC,UAAH,CAAc,cAAd,EAA8BC,SAA9B,CAAwC;AAAEC,MAAAA,KAAK,EAAEX,IAAI,CAACW;AAAd,KAAxC,CAAR;AACD;;AAEDP,EAAAA,IAAI,GACDQ,IADH,CACQN,OAAO,CAACC,GADhB,EAEGM,KAFH,CAESP,OAAO,CAACQ,KAFjB,EAGGC,OAHH,CAGW,MAAMZ,MAAM,CAACa,KAAP,EAHjB;AAID,CAnBD;;AAqBA,eAAejB,WAAf","sourcesContent":["import { MongoClient } from \"mongodb\";\n\nconst mongoSender = async (data) => {\n\n  const { MongoClient } = require(\"mongodb\");\n  const url =\n    \"mongodb+srv://mongoAUser:i6m3jV7kqz8XP2S@cluster0.cl4dl.mongodb.net/nextjs\";\n  // \"mongodb+srv://<username>:<password>@cluster0.cl4dl.mongodb.net/?retryWrites=true&w=majority\"\n  const client = new MongoClient(url);\n\n  async function main() {\n    await client.connect();\n    console.log(\"Connected successfully to server\");\n    const db = client.db();\n    return  db.collection(\"registration\").insertOne({ email: data.email });\n  }\n\n  main()\n    .then(console.log)\n    .catch(console.error)\n    .finally(() => client.close());\n};\n\nexport default mongoSender"]},"metadata":{},"sourceType":"module"}