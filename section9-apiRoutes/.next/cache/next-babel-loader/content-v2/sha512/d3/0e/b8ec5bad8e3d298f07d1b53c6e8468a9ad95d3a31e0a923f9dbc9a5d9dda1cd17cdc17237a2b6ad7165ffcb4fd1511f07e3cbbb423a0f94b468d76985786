{"ast":null,"code":"import { MongoClient } from \"mongodb\";\n\nconst mongoConnect = async () => {\n  const {\n    MongoClient\n  } = require(\"mongodb\");\n\n  const url = \"mongodb+srv://mongoAUser:i6m3jV7kqz8XP2S@cluster0.cl4dl.mongodb.net/nextjs\";\n  const client = new MongoClient(url);\n  await client.connect();\n  return client.db();\n};\n\nconst mongoSender = async data => {\n  const ans = await mongoConnect().collection(\"registration\").insertOne({\n    email: data.email\n  });\n  console.log(\"ans : \", ans);\n  await client.close();\n  return ans;\n};\n\nexport default mongoSender;","map":{"version":3,"sources":["/home/rom/Documents/dev/nextjs/tuto/section9-apiRoutes/helpers/mongodb.js"],"names":["MongoClient","mongoConnect","require","url","client","connect","db","mongoSender","data","ans","collection","insertOne","email","console","log","close"],"mappings":"AAAA,SAASA,WAAT,QAA4B,SAA5B;;AAEA,MAAMC,YAAY,GAAG,YAAW;AAC5B,QAAM;AAAED,IAAAA;AAAF,MAAkBE,OAAO,CAAC,SAAD,CAA/B;;AACF,QAAMC,GAAG,GACP,4EADF;AAEA,QAAMC,MAAM,GAAG,IAAIJ,WAAJ,CAAgBG,GAAhB,CAAf;AACA,QAAMC,MAAM,CAACC,OAAP,EAAN;AACE,SAAOD,MAAM,CAACE,EAAP,EAAP;AACH,CAPD;;AASA,MAAMC,WAAW,GAAG,MAAOC,IAAP,IAAgB;AAGlC,QAAMC,GAAG,GAAG,MAAMR,YAAY,GAC3BS,UADe,CACJ,cADI,EAEfC,SAFe,CAEL;AAAEC,IAAAA,KAAK,EAAEJ,IAAI,CAACI;AAAd,GAFK,CAAlB;AAGAC,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBL,GAAtB;AACA,QAAML,MAAM,CAACW,KAAP,EAAN;AACA,SAAON,GAAP;AACD,CATD;;AAWA,eAAeF,WAAf","sourcesContent":["import { MongoClient } from \"mongodb\";\n\nconst mongoConnect = async () =>{\n    const { MongoClient } = require(\"mongodb\");\n  const url =\n    \"mongodb+srv://mongoAUser:i6m3jV7kqz8XP2S@cluster0.cl4dl.mongodb.net/nextjs\";\n  const client = new MongoClient(url);\n  await client.connect();\n    return client.db();\n}\n\nconst mongoSender = async (data) => {\n  \n\n  const ans = await mongoConnect()\n    .collection(\"registration\")\n    .insertOne({ email: data.email });\n  console.log(\"ans : \", ans);\n  await client.close();\n  return ans;\n};\n\nexport default mongoSender;\n"]},"metadata":{},"sourceType":"module"}